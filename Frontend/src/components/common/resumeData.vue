<template>
    <el-row :gutter="20">
        <el-col :span="19">
            <div>
                <h1 v-if="data.basic_data.name != ''">{{ data.basic_data.name }}</h1>
                <h5 v-if="data.job_obj.length > 0 && data.job_obj[0].trim() !== ''" class="job_obj">
                    求职意向-{{ data.job_obj[0] }}
                </h5>
                <el-descriptions class="descriptions" title="基本信息" :column="2" border>
                    <el-descriptions-item v-if="data.basic_data.birth">
                        <template #label>
                            <div class="cell-item">
                                <svg class="icon" viewBox="0 0 1024 1024" width="18" height="18">
                                    <path
                                        d="M504 192c26.944 0 95.888 103.84 95.888 148.688 0 45.856-30.56 84.528-72.032 95.424v47.568h175.2c61.12 0 110.88 49.12 112.88 110.496l0.064 3.84V832a16 16 0 0 1-16 16H208a16 16 0 0 1-16-16V598.016c0-63.136 50.56-114.32 112.944-114.32l175.184-0.016v-47.568c-40.352-10.608-70.368-47.504-71.952-91.744l-0.064-3.68c0-44.832 68.96-148.688 95.888-148.688z m96.048 461.536c-9.472 0-14.528 2.896-25.072 15.248l-4.544 5.44c-22.192 27.28-37.152 38.304-66.432 38.304-28 0-42.912-10.08-63.584-34.832l-7.392-8.912c-10.56-12.352-15.6-15.248-25.072-15.248s-14.512 2.896-25.072 15.248l-4.544 5.44c-22.192 27.28-37.152 38.304-66.432 38.304-28 0-42.912-10.08-63.584-34.832l-7.392-8.912-1.216-1.408v132.32h528.56v-132.32l-1.2 1.408-4.544 5.44c-22.192 27.28-37.152 38.304-66.432 38.304-28 0-42.912-10.08-63.584-34.832l-7.392-8.912c-10.56-12.352-15.6-15.248-25.072-15.248z m103.008-121.536H304.96c-36.016 0-65.216 29.568-65.216 66.016v10.592c14.464 4.752 25.776 14.768 39.712 31.44l2.864 3.456c13.808 16.992 18.88 20.704 29.6 20.704 9.472 0 14.528-2.88 25.072-15.232l4.544-5.472c22.192-27.248 37.152-38.272 66.432-38.272 28 0 42.912 10.08 63.584 34.816l2.848 3.456c13.824 16.992 18.88 20.704 29.616 20.704 9.472 0 14.528-2.88 25.072-15.232l4.544-5.472c22.192-27.248 37.152-38.272 66.432-38.272 28 0 42.912 10.08 63.584 34.816l2.848 3.456c13.824 16.992 18.88 20.704 29.6 20.704 9.488 0 14.528-2.88 25.088-15.232l4.528-5.472c15.28-18.752 27.136-29.824 42.576-34.896v-10.592c0-35.36-27.456-64.224-61.952-65.92l-3.264-0.096zM504 250.96l-1.824 2.304c-4.336 5.616-8.896 11.872-13.328 18.336l-3.296 4.896c-18.208 27.408-29.728 52.32-29.728 64.192 0 27.824 21.68 50.192 48.176 50.192 26.496 0 48.16-22.368 48.16-50.192 0-11.856-11.52-36.8-29.712-64.192-5.44-8.192-11.2-16.208-16.64-23.232l-1.808-2.304z"
                                        fill="#5A626A"></path>
                                </svg>
                                出生日期
                            </div>
                        </template>
                        {{ data.basic_data.birth }}
                    </el-descriptions-item>
                    <el-descriptions-item v-if="data.basic_data.age">
                        <template #label>
                            <div class="cell-item">
                                <svg viewBox="0 0 1024 1024" width="18" height="18">
                                    <path
                                        fill="currentColor"
                                        d="M512 512a192 192 0 1 0 0-384 192 192 0 0 0 0 384zm0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512zm320 320v-96a96 96 0 0 0-96-96H288a96 96 0 0 0-96 96v96a32 32 0 1 1-64 0v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 1 1-64 0z"></path>
                                </svg>
                                年龄
                            </div>
                        </template>
                        {{ data.basic_data.age }}
                    </el-descriptions-item>
                    <el-descriptions-item v-if="data.basic_data.tel">
                        <template #label>
                            <div class="cell-item">
                                <svg viewBox="0 0 1024 1024" width="18" height="18">
                                    <path
                                        fill="currentColor"
                                        d="M224 768v96.064a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V768H224zm0-64h576V160a64 64 0 0 0-64-64H288a64 64 0 0 0-64 64v544zm32 288a96 96 0 0 1-96-96V128a96 96 0 0 1 96-96h512a96 96 0 0 1 96 96v768a96 96 0 0 1-96 96H256zm304-144a48 48 0 1 1-96 0 48 48 0 0 1 96 0z"></path>
                                </svg>
                                联系方式
                            </div>
                        </template>
                        {{ data.basic_data.tel }}
                    </el-descriptions-item>
                    <el-descriptions-item v-if="data.basic_data.email">
                        <template #label>
                            <div class="cell-item">
                                <svg class="icon" viewBox="0 0 1024 1024" width="18" height="18">
                                    <path
                                        d="M944 146.5H80c-44.183 0-80 35.817-80 80v590c0 44.184 35.817 80 80 80h864c44.183 0 80-35.816 80-80v-590c0-44.183-35.817-80-80-80z m-864 50h864c16.542 0 30 13.458 30 30v60.605L512 539.324 50 287.104V226.5c0-16.542 13.458-30 30-30z m864 650H80c-16.542 0-30-13.458-30-30V344.07l449.958 245.646a24.896 24.896 0 0 0 12.049 3.059c4.074 0.013 8.208-0.97 12.036-3.06L974 344.07V816.5c0 16.542-13.458 30-30 30z"
                                        fill="#999999"></path>
                                </svg>
                                邮箱
                            </div>
                        </template>
                        {{ data.basic_data.email }}
                    </el-descriptions-item>
                    <el-descriptions-item v-if="data.basic_data.college">
                        <template #label>
                            <div class="cell-item">
                                <svg viewBox="0 0 1024 1024" width="18" height="18">
                                    <path
                                        fill="currentColor"
                                        d="M224 128v704h576V128H224zm-32-64h640a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32z"></path>
                                    <path fill="currentColor" d="M64 832h896v64H64zm256-640h128v96H320z"></path>
                                    <path
                                        fill="currentColor"
                                        d="M384 832h256v-64a128 128 0 1 0-256 0v64zm128-256a192 192 0 0 1 192 192v128H320V768a192 192 0 0 1 192-192zM320 384h128v96H320zm256-192h128v96H576zm0 192h128v96H576z"></path>
                                </svg>
                                毕业院校
                            </div>
                        </template>
                        <span v-for="e in data.basic_data.college" :key="e" style="margin-right: 1vw">
                            {{ e }}
                        </span>
                    </el-descriptions-item>
                    <el-descriptions-item v-if="data.basic_data.edu">
                        <template #label>
                            <div class="cell-item">
                                <svg class="icon" viewBox="0 0 1027 1024" width="18" height="18">
                                    <path
                                        d="M981.600015 373.726208 981.600015 543.26272l35.689472 35.699712-74.415104 77.443072-75.336704-75.158528 51.58912-46.90944L919.126799 400.489472c-218.90048 90.257408-289.074176 118.310912-337.620992 140.2112-48.54784 21.900288-83.506176 21.789696-131.652608 3.647488-48.1536-18.147328-277.363712-101.80096-391.17824-156.269568-75.948032-36.340736-80.837632-59.388928 1.304576-90.231808 107.200512-40.725504 284.38528-105.946112 378.305536-141.541376 55.593984-22.490112 84.995072-34.768896 136.026112-9.121792C665.431823 184.810496 873.641743 262.941696 977.174287 305.6896 1067.299599 345.020416 1006.710543 357.957632 981.600015 373.726208L981.600015 373.726208zM592.063247 607.809536c52.936704-21.84192 124.314624-57.957376 202.141696-91.298816L794.204943 784.20992c0 0-100.652032 107.07456-277.599232 107.07456-190.558208 0-293.490688-107.07456-293.490688-107.07456L223.115023 534.336512c60.068864 24.4736 127.521792 45.531136 209.153024 73.473024C482.579215 625.71008 546.421519 631.899136 592.063247 607.809536L592.063247 607.809536zM592.063247 607.809536"
                                        fill="#272636"></path>
                                </svg>
                                学历
                            </div>
                        </template>
                        {{ data.basic_data.edu }}
                    </el-descriptions-item>
                    <el-descriptions-item v-if="data.basic_data.loc">
                        <template #label>
                            <div class="cell-item">
                                <svg viewBox="0 0 1024 1024" width="18" height="18">
                                    <path
                                        fill="currentColor"
                                        d="M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"></path>
                                    <path
                                        fill="currentColor"
                                        d="M512 512a96 96 0 1 0 0-192 96 96 0 0 0 0 192zm0 64a160 160 0 1 1 0-320 160 160 0 0 1 0 320z"></path>
                                </svg>
                                住址
                            </div>
                        </template>
                        <span v-for="e in data.basic_data.loc" :key="e">
                            {{ e }}
                        </span>
                    </el-descriptions-item>
                </el-descriptions>
                <el-descriptions class="descriptions" title="个人经历" :column="1" border>
                    <el-descriptions-item v-if="data.experience">
                        <template #label>
                            <div class="cell-item">
                                <svg class="icon" viewBox="0 0 1024 1024" width="18" height="18">
                                    <path
                                        d="M597.479619 154.063238V852.358095h52.150857v-1.024l120.295619 0.024381V441.051429l-120.295619-41.862096v-78.506666l169.252572 58.855619a56.32 56.32 0 0 1 25.795047 42.959238l0.170667 4.388571V852.358095H902.095238V926.47619H121.904762v-74.093714h56.953905v-566.613333c0-19.456 10.166857-37.546667 26.843428-47.85981l304.444953-131.705904c38.034286-23.503238 87.332571 3.510857 87.332571 47.859809z m-74.922667 27.623619L253.805714 297.959619v553.447619h268.751238V542.183619l-0.487619 0.195048V508.099048l0.487619 1.170285v-142.555428l-0.487619 0.195047v-34.133333l0.487619 1.097143V181.686857zM471.771429 482.816v80.14019l-167.107048 68.217905v-80.14019l167.107048-68.217905z m0-175.225905v80.481524l-167.107048 70.314667V377.904762l167.107048-70.290286z"></path>
                                </svg>
                                工作/项目经历
                            </div>
                        </template>
                        <div v-for="e in cut_sentence(data.experience)" :key="e">
                            {{ e }}
                        </div>
                    </el-descriptions-item>
                    <el-descriptions-item v-if="data.award">
                        <template #label>
                            <div class="cell-item">
                                <svg class="icon" viewBox="0 0 1024 1024" width="18" height="18">
                                    <path
                                        d="M512 222.563556c-94.378667 0-171.136 76.757333-171.136 171.107555 0 94.364444 76.757333 171.136 171.136 171.136 94.364444 0 171.136-76.771556 171.136-171.136 0-94.350222-76.771556-171.107556-171.136-171.107555z m0 313.799111c-78.677333 0-142.691556-64.014222-142.691556-142.691556 0-78.663111 64.014222-142.663111 142.691556-142.663111s142.691556 64 142.691556 142.663111c0 78.691556-64.014222 142.691556-142.691556 142.691556z"></path>
                                    <path
                                        d="M435.640889 376.078222c0-6.343111 0.768-9.528889 2.531555-16.142222a14.236444 14.236444 0 0 0-27.505777-7.281778c-2.161778 8.149333-3.470222 13.795556-3.470223 23.409778a14.222222 14.222222 0 1 0 28.444445 0.014222zM512.014222 470.058667a76.259556 76.259556 0 0 1-72.504889-52.309334 14.222222 14.222222 0 0 0-27.008 8.945778A104.632889 104.632889 0 0 0 512 498.503111a14.222222 14.222222 0 0 0 0.014222-28.444444z"></path>
                                    <path
                                        d="M836.309333 430.961778l-12.145777-18.901334c-5.930667-9.244444-5.930667-27.420444-0.014223-36.650666l12.145778-18.944a65.180444 65.180444 0 0 0 8.305778-51.868445 65.208889 65.208889 0 0 0-33.166222-40.789333l-19.939556-10.296889c-9.756444-5.034667-18.816-20.764444-18.304-31.758222l1.024-22.414222a64.540444 64.540444 0 0 0-17.692444-48.071111c-12.942222-13.568-30.620444-20.508444-50.147556-19.797334l-23.253333 1.080889c-11.036444 0-26.040889-8.917333-30.933334-18.346667l-10.339555-19.968c-11.278222-21.788444-33.208889-35.328-57.244445-35.328-12.444444 0-24.675556 3.655111-35.370666 10.510223l-18.944 12.145777c-8.590222 5.504-28.046222 5.518222-36.622222 0.014223l-18.915556-12.117334a65.649778 65.649778 0 0 0-35.427556-10.467555c-24.035556 0-45.980444 13.639111-57.258666 35.470222l-10.296889 20.124444c-4.864 9.429333-19.896889 18.730667-31.715556 18.730667h-0.028444l-22.456889-1.464889c-19.256889-0.711111-37.191111 5.831111-50.133333 19.384889a64.469333 64.469333 0 0 0-17.692445 48.042667l1.024 22.471111c0.512 10.965333-8.547556 26.680889-18.289778 31.715555l-20.010666 10.325334a65.166222 65.166222 0 0 0-33.137778 40.775111 65.223111 65.223111 0 0 0 8.348444 51.911111l12.131556 18.872889c5.930667 9.258667 5.930667 27.434667 0.028444 36.650667l-12.174222 18.958222a65.194667 65.194667 0 0 0-8.305778 51.896889 65.080889 65.080889 0 0 0 33.137778 40.718222l19.968 10.353778c9.756444 5.020444 18.830222 20.750222 18.318222 31.729777l-1.024 22.414223a64.526222 64.526222 0 0 0 17.265778 47.544889l-43.093333 237.425777a28.444444 28.444444 0 0 0 35.541333 32.483556l76.970667-21.205333 64.611555 46.947555c4.949333 3.584 10.808889 5.418667 16.725334 5.418667a28.458667 28.458667 0 0 0 27.975111-23.409778l32.284444-177.749333 37.461334 206.236444a28.472889 28.472889 0 0 0 27.989333 23.367111c5.916444 0 11.776-2.332444 16.725333-5.916444l103.864889-75.918222 123.747556 33.109333c2.474667 0.696889 5.020444-0.910222 7.537778-0.910222h0.298666c15.701333 0 28.444444-10.666667 28.444445-26.382223 0-3.128889-0.526222-4.110222-1.464889-6.940444L772.408889 605.923556c1.294222-5.745778 2.104889-11.662222 1.820444-17.792l-1.009777-22.471112c-0.512-10.965333 8.547556-26.666667 18.318222-31.701333l19.939555-10.353778a65.166222 65.166222 0 0 0 33.166223-40.718222 65.308444 65.308444 0 0 0-8.334223-51.925333zM397.880889 858.638222l-39.082667-28.359111a28.302222 28.302222 0 0 0-24.305778-4.423111l-46.520888 12.828444 33.208888-182.897777 19.655112-0.910223c8.277333 0 18.801778 5.034667 25.6 11.505778 2.261333 2.147556 4.124444 4.465778 5.333333 6.812445l10.325333 19.996444 0.071111 0.113778a66.844444 66.844444 0 0 0 8.348445 12.245333 64.568889 64.568889 0 0 0 19.996444 15.886222c3.655111 1.863111 7.438222 3.498667 11.406222 4.622223l-24.035555 132.579555z m268.088889-32.839111a28.430222 28.430222 0 0 0-24.277334 4.423111l-78.307555 56.860445L530.488889 705.976889l18.773333 12.316444c10.723556 6.869333 22.954667 10.794667 35.399111 10.794667 24.021333 0 45.966222-12.942222 57.230223-34.744889l10.353777-18.830222c1.820444-3.527111 5.063111-6.656 9.031111-9.187556a44.515556 44.515556 0 0 1 22.613334-6.784h0.042666l2.56-0.142222 23.096889-1.052444c4.750222 0 9.443556-2.816 13.923556-3.783111l35.797333 196.949333-93.340444-25.713778z m110.336-383.047111l12.145778 18.901333a8.049778 8.049778 0 0 1 1.28 6.513778 8.035556 8.035556 0 0 1-4.337778 5.006222l-19.968 10.439111c-29.496889 15.246222-50.56 51.982222-49.009778 85.105778l1.009778 22.912c0.113778 2.503111-0.583111 5.504-2.005334 6.997334-0.725333 0.768-1.92 2.588444-3.911111 3.470222a6.513778 6.513778 0 0 1-2.389333 0.497778h-0.028444l-22.471112-2.801778c-33.066667-1.664-69.703111 17.834667-84.920888 47.274666l-10.339556 19.968c-2.076444 3.968-5.105778 4.551111-6.727111 4.551112a8.718222 8.718222 0 0 1-4.693333-1.493334l-18.944-12.145778a73.585778 73.585778 0 0 0-9.386667-4.992c-1.237333-0.568889-2.503111-1.066667-3.783111-1.578666a86.229333 86.229333 0 0 0-6.115556-2.147556c-1.735111-0.540444-3.427556-1.109333-5.205333-1.550222-0.654222-0.170667-1.351111-0.256-2.005333-0.398222a97.792 97.792 0 0 0-14.293334-2.161778 96.241778 96.241778 0 0 0-4.039111-0.270222c-1.408-0.056889-2.759111-0.284444-4.181333-0.284445-0.938667 0-1.848889 0.156444-2.787556 0.184889-1.848889 0.042667-3.669333 0.227556-5.518222 0.355556a105.472 105.472 0 0 0-9.315556 1.180444c-1.592889 0.284444-3.228444 0.483556-4.792888 0.853334-0.298667 0.071111-0.554667 0.213333-0.853334 0.284444-9.415111 2.247111-18.232889 5.703111-25.756444 10.510222l-18.659556 12.003556c-0.369778 0.184889-0.782222 0.227556-1.152 0.412444-4.152889 2.190222-8.376889 0.867556-10.524444-3.299555l-10.339556-20.024889c-15.260444-29.44-51.569778-50.389333-84.935111-48.995556l-22.798222 1.080889c-0.142222 0-0.369778-0.056889-0.540445-0.056889-0.668444-0.028444-1.152-0.213333-1.692444-0.341333-0.540444-0.156444-1.066667-0.298667-1.749333-0.625778-0.184889-0.099556-0.398222-0.113778-0.583111-0.213333-0.512-0.312889-1.080889-0.654222-1.408-0.981334a8.106667 8.106667 0 0 1-2.019556-6.186666l1.024-22.414222c1.550222-33.166222-19.527111-69.674667-49.009778-84.920889l-19.996444-10.353778a7.907556 7.907556 0 0 1-4.323556-4.935111 7.964444 7.964444 0 0 1 1.265778-6.442667l12.174222-18.958222c17.891556-27.946667 17.891556-70.087111-0.028444-98.062222l-12.131556-18.872889a7.964444 7.964444 0 0 1-1.294222-6.471111 7.921778 7.921778 0 0 1 4.323556-4.935111l19.982222-10.254223c29.496889-15.246222 50.56-51.655111 49.024-84.792889l-1.024-22.229333a6.926222 6.926222 0 0 1 2.019555-5.632c0.967111-1.024 2.744889-1.28 6.272-1.28h0.056889l22.442667 0.099556c33.28 1.720889 69.688889-20.522667 84.963555-50.005334l10.296889-19.939555c2.062222-3.996444 5.105778-4.579556 6.727111-4.579556a8.675556 8.675556 0 0 1 4.707556 1.507556l18.929778 12.145778c26.965333 17.28 71.068444 17.28 98.019555 0l18.972445-12.145778a8.675556 8.675556 0 0 1 4.664889-1.493334c1.635556 0 4.664889 0.583111 6.741333 4.579556l10.325333 19.953778c15.232 29.454222 51.527111 50.588444 84.949334 49.024l22.968889-1.066667c3.029333 0 4.807111 1.223111 5.788444 2.247111 1.436444 1.507556 2.133333 3.626667 2.019556 6.158222l-1.009778 22.414223c-1.564444 33.166222 19.512889 69.688889 49.038222 84.949333l19.911111 10.296889a8.049778 8.049778 0 0 1 4.366222 4.977778 7.921778 7.921778 0 0 1-1.28 6.456889l-12.145777 18.944c-17.905778 27.946667-17.905778 70.115556 0.014222 98.076444z"></path>
                                </svg>
                                所得奖项
                            </div>
                        </template>
                        <div v-for="e in data.award" :key="e">
                            {{ e }}
                        </div>
                    </el-descriptions-item>
                    <el-descriptions-item v-if="data.ability">
                        <template #label>
                            <div class="cell-item">
                                <svg class="icon" viewBox="0 0 1024 1024" width="18" height="18">
                                    <path
                                        d="M336 224v96h352V224h-352z m352 208h-352v96h352v-96z m160-432h-672C140.928 0 128 12.928 128 48v928c0 29.312 31.104 60.448 80 32l305.888-172.96L816 1008c42.688 21.312 80 4.448 80-32v-928C895.936 12.896 883.136 0 848 0zM800 880L544 736c-32-16-32-16-64 0l-256 144V96h576v784z"></path>
                                </svg>
                                个人能力
                            </div>
                        </template>
                        <div v-for="e in data.ability" :key="e">
                            {{ e }}
                        </div>
                    </el-descriptions-item>
                </el-descriptions>
            </div>
        </el-col>
        <el-col :span="5">
            <div class="tag-topic">
                简历标签
                <el-tooltip
                    content="灰色标签为用户自定义标签"
                    placement="top"
                    effect="customized"
                    class="tooltip"
                    v-if="infoStore.type == 1">
                    <svg class="icon" viewBox="0 0 1024 1024" width="15" height="15">
                        <path
                            d="M463.99957 784.352211c0 26.509985 21.490445 48.00043 48.00043 48.00043s48.00043-21.490445 48.00043-48.00043c0-26.509985-21.490445-48.00043-48.00043-48.00043S463.99957 757.842226 463.99957 784.352211z"
                            fill="#575B66"></path>
                        <path
                            d="M512 960c-247.039484 0-448-200.960516-448-448S264.960516 64 512 64 960 264.960516 960 512 759.039484 960 512 960zM512 128.287273c-211.584464 0-383.712727 172.128262-383.712727 383.712727 0 211.551781 172.128262 383.712727 383.712727 383.712727 211.551781 0 383.712727-172.159226 383.712727-383.712727C895.712727 300.415536 723.551781 128.287273 512 128.287273z"
                            fill="#575B66"></path>
                        <path
                            d="M512 673.695256c-17.664722 0-32.00086-14.336138-32.00086-31.99914l0-54.112297c0-52.352533 39.999785-92.352318 75.32751-127.647359 25.887273-25.919957 52.67249-52.67249 52.67249-74.016718 0-53.343368-43.07206-96.735385-95.99914-96.735385-53.823303 0-95.99914 41.535923-95.99914 94.559333 0 17.664722-14.336138 31.99914-32.00086 31.99914s-32.00086-14.336138-32.00086-31.99914c0-87.423948 71.775299-158.559333 160.00086-158.559333s160.00086 72.095256 160.00086 160.735385c0 47.904099-36.32028 84.191695-71.424378 119.295794-27.839699 27.776052-56.575622 56.511974-56.575622 82.3356l0 54.112297C544.00086 659.328155 529.664722 673.695256 512 673.695256z"
                            fill="#575B66"></path>
                    </svg>
                </el-tooltip>
            </div>
            <el-card class="tag-card" shadow="hover">
                <div class="tag">
                    <div>
                        <span v-for="e in data.tag.edu_tag" :key="e">
                            <el-tag class="ml-2" type="danger">{{ e }}</el-tag>
                        </span>
                        <span v-for="e in data.basic_data.college" :key="e">
                            <el-tag class="ml-2" type="danger">{{ e }}</el-tag>
                        </span>
                    </div>
                    <div>
                        <span v-for="e in data.basic_data.loc" :key="e">
                            <el-tag class="ml-2" type="success">
                                {{ e }}
                            </el-tag>
                        </span>
                    </div>
                    <div>
                        <el-tag class="ml-2" type="warning">{{ `工作年限:${data.tag.total_work_time}年` }}</el-tag>
                        <span v-for="e in data.tag.experience_tag" :key="e">
                            <el-tag class="ml-2" type="warning">{{ e }}</el-tag>
                        </span>
                    </div>
                    <div>
                        <span v-for="e in data.tag.ability" :key="e">
                            <el-tag class="ml-2">{{ e }}</el-tag>
                        </span>
                    </div>
                    <div v-if="infoStore.type == 1">
                        <span v-for="e in data.custom_content.self_tag" :key="e">
                            <el-tag class="ml-2" type="info">{{ e }}</el-tag>
                        </span>
                    </div>
                </div>
            </el-card>
            <div>
                <div class="tag-topic">岗位匹配</div>
                <el-card class="tag-card" shadow="hover">
                    <li v-for="e in data.job_fit" :key="e">
                        {{ e }}
                    </li>
                </el-card>
            </div>
            <div v-if="infoStore.type == 1">
                <div class="tag-topic">人才画像构建</div>
                <el-card class="tag-card" shadow="hover">
                    <li v-for="e in construction" :key="e">
                        {{ e }}
                    </li>
                </el-card>
            </div>
            <div
                v-if="
                    infoStore.type == 1 &&
                    (data.custom_content.money_obj != '' ||
                        data.custom_content.self_desc.length > 0 ||
                        data.custom_content.self_tag.length > 0)
                ">
                <div class="tag-topic">用户补充信息</div>
                <el-card class="tag-card" shadow="hover">
                    <div v-if="data.custom_content.money_obj != ''">
                        <li>薪资预期：{{ data.custom_content.money_obj }}</li>
                        <li v-for="e in data.custom_content.self_desc" :key="e">
                            {{ e }}
                        </li>
                    </div>
                    <div v-else-if="data.custom_content.self_desc.length > 0">
                        <li v-for="e in data.custom_content.self_desc" :key="e">
                            {{ e }}
                        </li>
                    </div>
                </el-card>
            </div>
        </el-col>
    </el-row>
</template>

<script setup>
import { reactive, ref, watch } from 'vue'
import { InfoStore } from '@/stores/InfoStore'

const props = defineProps({
    resume_data: {
        type: Object,
        required: true
    }
})

const infoStore = InfoStore()
const data = ref(props.resume_data)

const cut_sentence = sentence => {
    const arr = sentence
    for (let i = 0; i < sentence.length; i++) {
        if (arr[i].length > 60) {
            // 将字符串分为长度为60的块
            const chunks = arr[i].match(/.{1,60}/g)
            arr.splice(i, 1, ...chunks)
            i += chunks.length - 1
        }
    }
    return arr
}

watch(
    () => props.resume_data,
    newVal => {
        data.value = newVal
        construction_analysis(data.value)
    }
)

const construction = reactive([])
const construction_analysis = p => {
    construction.length = 0
    if (p.basic_data.edu === '博士' || p.basic_data.edu === '硕士' || p.basic_data.edu === '本科') {
        construction.push('求职者学历程度较高')
    } else if (p.basic_data.edu) {
        construction.push('求职者学历程度一般')
    }

    if (p.tag.total_work_time === '0') {
        construction.push('尚未积累足够的工作经验')
    } else {
        const work_year = parseInt(p.tag.total_work_time)
        if (work_year >= 20) {
            construction.push('具有非常丰富的工作经验')
        } else if (work_year >= 10) {
            construction.push('具有足够的工作经验')
        } else if (work_year >= 4) {
            construction.push('具有一定工作经验')
        }
    }

    if (p.tag.experience_tag.length !== 0 && p.tag.total_work_time !== '0') {
        const work_year = parseInt(p.tag.total_work_time)
        if (work_year / p.tag.experience_tag.length >= 4 && p.tag.experience_tag.length <= 4) {
            construction.push('工作相对稳定')
        } else {
            construction.push('工作变动频繁')
        }
    }
}
construction_analysis(data.value)
</script>

<style lang="less" scoped>
.descriptions {
    margin-bottom: 1.5vh;
}

h1,
h5 {
    margin: 0 auto;
    text-align: center;
}

.tag-topic {
    margin-top: 4vh;
    font-size: 1.7rem;
    color: black;
    font-weight: 600;
}

.tag-topic svg {
    margin-left: 0.5vw;
}

.tooltip {
    cursor: pointer;
}

.tag-card {
    text-align: left;
    margin-top: 1.38vh;
}

.tag-card li {
    font-size: 1.5rem;
    margin-bottom: 1vh;
}

.tag div {
    margin-bottom: 0.3vh;
}

.tag span {
    margin-right: 0.2vw;
    margin-bottom: 0.5vh;
}
</style>

<style>
.el-popper.is-customized {
    padding: 6px 12px;
    background: linear-gradient(90deg, rgb(159, 229, 151), rgb(204, 229, 129));
}

.el-popper.is-customized .el-popper__arrow::before {
    background: linear-gradient(45deg, #b2e68d, #bce689);
    right: 0;
}
</style>
